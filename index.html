<!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>ESP8266 Control</title>
      <style type="text/css">
            html { 
                font-family: monospace;
                margin: 0px auto;
                text-align: center;
                background-color: #f0f0f0;
            }
            content {
                display: flex;
                flex-wrap: wrap;         /* ✅ ให้ wrap ได้เมื่อจอแคบ */
                justify-content: center;
                gap: 20px;
                padding: 20px;
                box-sizing: border-box;
                max-width: 100%;
            }
            #left, #right {
                border: 1px solid #aaa;
                padding: 16px;
                width: 100%;             /* ✅ ใช้ 100% บนจอเล็ก */
                max-width: 300px;        /* ✅ จำกัดความกว้างไม่ให้ใหญ่เกินไป */
                background-color: #fff;
                box-sizing: border-box;
            }
            #right{
                display: flex;
                flex-direction: column;
                justify-content: center;   
                align-items: center;       
                text-align: center;  
            }
            .center-wrapper {
                flex: 1; 
                display: flex;
                align-items: center;  
                justify-content: center;
            }
            .value-wrapper {
                font-size: 3em;
                font-weight: bold;
            }

            /* ปุ่มไฟ */
            .traffic-light {
                display: flex;
                flex-direction: column;
                align-items: center;
                padding-top: 8px;
                font-size: medium;
                font-weight: 600;
            }

            .light-button {
                width: 80px;
                height: 80px;
                border-radius: 50%;
                border: none;
                color: white;
                font-weight: bold;
                font-size: 1em;
                margin: 6px 0;
                cursor: pointer;	
            }
            .default{background-color: gray;}
            .red {background-color: red;}
            .yellow {background-color: gold; color: black;}
            .green {background-color: green;}
            @media (max-width: 600px) {
                h3 {font-size: 1.3em;}
                .value-wrapper {font-size: 3em;}
                .light-button {width: 60px; height: 60px;}
            }
        </style>
    </head>
    <body>
        <header>
          <h1>Webserver</h1>
        </header>

        <content>
            <div id="left">
                <h3 >Control LED State</h3>
			    <hr>
                <div class="traffic-light">
                    RED
                    <p><a href="/red/on"><button class="light-button default">ON</button></a></p>
                    YELLOW
                    <p><a href="/yellow/on"><button class="light-button default">ON</button></a></p>
                    GREEN
                    <p><a href="/green/on"><button class="light-button default">ON</button></a></p>
                </div>
            </div>

            <div id="right">
                <h3>Ultrasonic Sensor Data</h3>
                <hr style="width: 250px;">
                <div class="center-wrapper">
                    <div class="value-wrapper">
                        <span>123</span>
                        <span>cm</span>
                    </div>
                </div>
            </div>
        </content>
        <!-- <p><a href="/ON"><button>เปิดไฟ</button></a></p>
        <p><a href="/OFF"><button>ปิดไฟ</button></a></p>
        <h2>ระยะจาก HC-SR04: <span id="distance">--</span></h2> -->
        
    </body>
    <script>
        function updateDistance() {
        fetch('/distance')
            .then(response => response.text())
            .then(data => {
            document.getElementById('distance').innerText = data + ' cm';
            });
        }
        setInterval(updateDistance, 1000); // อัปเดตทุก 1 วินาที
        window.onload = updateDistance;
    </script>
</html>